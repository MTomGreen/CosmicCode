package green.thread;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.Timer;

import green.detector.Detector;
import green.math.EventTime;
import green.math.ExtTime;
import green.util.CoincidenceUtils;
import green.util.DetectorUtils;

public class MainThread extends Thread {
	
	private static String timeString;
	private static String dateString;
	
	public static GUIThread gui;
	
	@Override
	public synchronized void start() {
		super.start();
		gui = new GUIThread(this);
		gui.start();

		DetectorUtils.init();
		
		ActionListener taskPerformer = new ActionListener(){
			public void actionPerformed(ActionEvent e){
				update();}};
		
		Timer t = new Timer(1000, taskPerformer); //Once per second
		t.setRepeats(true);
		t.start();
		
		ExtTime a = new ExtTime("2016-07-20+12-00-00");
		ExtTime b = new ExtTime("2016-07-21+13-00-00");
		WebUtils.downloadEventHistory(new Detector(14004), a, b);
		
	}
	
	boolean done = false;
	public void update(){
	
	}

	public static String getTime() {
		return timeString;
	}

	public static void setTime(String Time) {
		timeString = Time;
	}

	public static String getDate() {
		return dateString;
	}

	public static void setDate(String date) {
		dateString = date;
	}
	
	
	

}
