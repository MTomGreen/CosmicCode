package green.thread;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.Timer;

import green.math.ExtTime;
import green.util.CoincidenceUtils;
import green.util.DetectorUtils;

public class MainThread extends Thread {
	
	private static String timeString;
	private static String dateString;
	
	public static GUIThread gui;
	
	@Override
	public synchronized void start() {
		super.start();
		gui = new GUIThread(this);
		gui.start();

		DetectorUtils.init();
		
		ActionListener taskPerformer = new ActionListener(){
			public void actionPerformed(ActionEvent e){
				update();}};
		
		Timer t = new Timer(1000, taskPerformer); //Once per second
		t.setRepeats(true);
		t.start();
		
		ExtTime a = new ExtTime("2016-07-20+12-00-00");
		ExtTime b = new ExtTime("2016-07-21+13-00-00");
		//WebUtils.downloadEventHistory(new Detector(14004), a, b);
		CoincidenceUtils.generateCoincidences(DetectorUtils.getDetectorsFromIDs(504,502,511,508), 4, a, b);
		
		EventTime t= CoincidenceUtils.getTimeFromEvent("2016-07-20	12:00:00	1469016000	461437229	199	508	2	39	1937	6302	0	253	0.85217	2.7025	0	0.092506	15	27.5	-999	57.5	32.5	-999	-999");
		
	}
	
	boolean done = false;
	public void update(){
	
	}

	public static String getTime() {
		return timeString;
	}

	public static void setTime(String Time) {
		timeString = Time;
	}

	public static String getDate() {
		return dateString;
	}

	public static void setDate(String date) {
		dateString = date;
	}
	
	
	

}
